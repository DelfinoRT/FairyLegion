<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pokémon Catch Mini-Game</title>
  <link rel="stylesheet" href="style-paddown.css">
  <link rel="icon" type="image/png" sizes="32x32" href="/PADDown/favicon-32x32.png">
</head>
<body>
  <div class="top-title-area">
    <h1 class="game-title">PokeCatch</h1>
    <p class="game-credits">by Fairy Legion</p>
  </div>
  
    <section class="instructions-section">
      <details class="instructions-details">
        <summary class="instructions-summary">
          <h3 style="display:inline-block;margin:0;padding:0;">Instrucciones</h3>
        </summary>

        <div class="instructions-content">
          <ul style="text-align:left;display:inline-block;margin:0 auto;">
            <li>Haz click rápido sobre Pokémon o ítems cuando aparezcan en el mapa para capturarlos o recolectar puntos.</li>
            <li><b>Racha de Captura:</b> Capturar Pokémon o ítems incrementa tu racha. Si la racha es alta, ¡obtienes un bonus de puntos!</li>
            <li><b>Shiny Garantizado:</b> Si alcanzas una racha de <b>8</b> Pokémon/ítems sin fallar o dejar que un spawn desaparezca, el próximo Pokémon aparecerá como Shiny garantizado.</li>
            <li><b>Encuentro Mítico:</b> Tras capturar <b>3 Shiny</b> y <b>6 Pokémon normales</b>, si tienes al menos una <b>Masterball</b> disponible, aparecerá un Pokémon Mítico.</li>
            <li><b>Masterballs:</b> Solo pueden usarse para capturar Pokémon Míticos. ¡Recoge Masterballs de los spawns de ítems!</li>
            <li><b>Bonus de Tiempo:</b> Capturar un Pokémon Mítico añade <b>+15 segundos</b> al reloj de la ronda.</li>
            <li><b>Intercambio de Gemas (NUEVO):</b> Puedes intercambiar <b>1 Gema</b> (perdiendo sus puntos) por <b>2 Pokéballs</b> adicionales para continuar capturando.</li>
            <li>Cambiar el tema del mapa (volcán, bosque, tundra) cambiará los tipos de Pokémon e ítems que pueden aparecer.</li>
          </ul>
        </div>
      </details>
    </section>
<br><br>
<header>
    <div class="game-header">
      <div class="score-group">
        <div class="main-score-display">
          Puntaje Actual: <strong id="points">0</strong>
        </div>
        <div id="high-score-display" class="high-score-display">
          Máximo Puntaje: <strong>0</strong>
        </div>
      </div>
      <button class="map-theme-btn" id="changeThemeBtn">Cambiar Mapa</button>
      <span id="current-theme">Bosque</span>
    </div>
  </header>
  
  <div id="map-pokedex-tracker-wrapper">
    <div class="map-pokedex-header">
        <h3>Pokédex Mapa Actual: <span id="pokedex-progress">0/12</span></h3>
    </div>
    <div id="map-pokedex-tracker" class="pokedex-tracker">
        </div>
  </div>
    
  <main>
    <div class="game-container">
      
      <div class="item-inventory-panel-wrapper">
          <div class="item-inventory-panel">
            <h3>Ítems Recolectados</h3>
            <div id="item-log-list">
              <p class="no-catches">Recolecta ítems para verlos aquí.</p>
            </div>
          </div>
          <div id="gemstone-exchange-panel" class="gemstone-exchange-panel hidden">
              <h4>Intercambio de Gemas</h4>
              <p>Tienes <strong id="gemstone-count">0</strong> Gemas disponibles.</p>
              <div class="exchange-offer">
                  <p>1 Gema (<span class="point-loss-value">34 pts</span>) &rarr; 2 Pokéballs</p>
                  <button id="exchange-btn" disabled>Intercambiar</button>
              </div>
          </div>
      </div>
      
      <div class="game-area">
        <div class="pokeball-inventory-display">
          <span>Pokéballs: <strong id="pokeballs-count">3</strong></span>
          <img src="/PADDown/pokeball.png" width="20" height="20" title="Pokéballs normales">
          
          <span class="masterball-count-separator">|</span>
          
          <span>Masterballs: <strong id="masterballs-count">0</strong></span>
          <img src="/PADDown/masterball.png" width="20" height="20" title="Masterballs (Solo para Míticos)">
        </div>
        
        <div class="map-controls">
          <div class="catch-streak-display">Racha: <strong id="catch-streak">0</strong></div>
          <!-- Start round button placed next to the streak -->
          <button class="spawn-btn" id="spawnBtn">Iniciar Ronda</button>
        </div>

        <div id="game-map" class="theme-forest">
        </div>

        <div id="game-message-panel" class="game-message-panel">
          <p id="game-message-text">¡Comienza la ronda para capturar Pokémon!</p>
        </div>
      </div>

      <div class="capture-log-panel">
        <h3>Pokémon Capturados (<strong id="pokemons-caught">0</strong>)</h3>
        <div id="captured-log-list">
          <p class="no-catches">¡Aún no has capturado ningún Pokémon en esta ronda!</p>
        </div>
      </div>
    </div>
    <br>
  </main>

  <!-- History Section: last 6 games -->
  <section id="game-history-section" class="game-history-section">
    <div class="game-history-header">
      <h3>Historial de Partidas (últimas 6)</h3>
      <button id="clear-history-btn" class="map-theme-btn">Borrar Historial</button>
    </div>
    <div id="history-list" class="history-list">
      <p class="no-catches">No hay historial de partidas aún.</p>
    </div>
  </section>
  <footer>
    <p>© 2025 PokéCatch <a href="https://www.linkedin.com/in/delfino-rosales/" class="linked-in">/ Desarrollado por Silvarion</a></p>
  </footer>
  <script src="script-paddown.js"></script>
</body>
</html>